Freelancer Earnings Analytics CLI

Прототип системы командной строки для аналитики статистики доходов фрилансеров с использованием ChatGPT для маршрутизации запросов и генерации человекочитаемых отчётов на основе агрегированных данных.

Оглавление

Описание проекта

Установка

Структура репозитория

Использование

Добавление новых метрик

Критерии оценки качества

Лицензия

Описание проекта

Эта CLI‑утилита позволяет задавать вопросы на естественном языке о доходах фрилансеров и получать развёрнутые ответы, сгенерированные ChatGPT. Данные хранятся в CSV-файле, агрегируются функциями на Python (pandas), после чего LLM получает только итоговые цифры (mean, median, correlation и т.д.), а не весь датасет.

Возможности:

Сравнение дохода по методам оплаты (compare_payment)

Распределение дохода по регионам (by_region)

Анализ процента экспертов с <100 проектов (expert_under_100)

Влияние процента успешных заказов (salary_vs_success_rate)

Влияние рейтинга фрилансеров (salary_vs_rating)

Корреляция длительности задач и дохода (job_duration_correlation)

Влияние числа навыков (skills_count_vs_earnings)

Средний/медианный доход по уровню опыта (salary_by_experience)

Установка

Клонировать репозиторий:

git clone https://github.com/yourusername/freelancer-analytics.git
cd freelancer-analytics

Создать и активировать виртуальное окружение:

python -m venv .venv
source .venv/bin/activate    # Linux/macOS
.\.venv\Scripts\activate   # Windows

Установить зависимости:

pip install -r requirements.txt

Добавить файл .env в корень проекта с вашим ключом OpenAI:



OPENAI_API_KEY=sk-...


## Структура репозитория


freelancer-analytics/
├── data/
│   └── freelancer_earnings.csv      # Исходный датасет  
├── src/
│   ├── main.py                  # CLI-логика и цикл запросов    
│   ├── loader.py                    # Загрузка и препроцессинг данных       
│   ├── analyzer.py                  # Функции агрегированной аналитики  
│   ├── prompts.py                   # Шаблоны для классификации и ответов LLM  
│   ├── llm_client.py                # Обёртка над OpenAI API (новая версия)  
│   └── config.py                    # Пути и настройки (API_KEY, DATA_PATH)  
├── .env                             # Ваш OpenAI APIKEY  
├── requirements.txt                 # Python-зависимости       
└── README.md                        # Этот файл


## Использование

Запуск:
```bash
python -m src

Программа предложит ввести вопрос:

Задайте вопрос по данным (или exit/quit для выхода):

Примеры вопросов:

Насколько выше доход у фрилансеров, принимающих оплату в криптовалюте?

Как распределяется доход фрилансеров в зависимости от региона проживания?

Как % успешного выполнения заказов влияет на доход внутри регионов?

Как уровень опыта влияет на доход?

Как рейтинг от 3.0 до 5.0 влияет на доход?

После ввода вопроса система сделает два запроса к LLM: первый — для классификации и выбора функции, второй — для генерации развернутого ответа на основе агрегации.

Добавление новых метрик

В src/analyzer.py — реализовать новую функцию аналитики, принимающую DataFrame и возвращающую dict, float или pandas.DataFrame.

В src/prompts.py:

Добавить имя функции в CLASSIFIER.

Добавить шаблон в TEMPLATES.

В src/__main__.py:

Импортировать функцию и прописать в VALID_ACTIONS.

Система сама подхватит новую метрику и сможет отвечать на соответствующие вопросы.

Критерии оценки качества

Корректность расчётов: проверка агрегатов (mean, median, correlation) с помощью unit‑тестов.

Надёжность: обработка ошибок I/O и APIConnectionError.

Гибкость: лёгкость добавления новых функций аналитики.

Понятность: человекочитаемые ответы без «галлюцинаций» LLM.

Лицензия

MIT © Артём О.

