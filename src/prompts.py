# src/prompts.py

# Шаблон для классификации вопросов LLM — теперь включает все действия
CLASSIFIER = """
Ты — ассистент, который по тексту вопроса выбирает ровно одно название функции из списка:
- compare_payment
- by_region
- expert_under_100
- salary_vs_success_rate
- salary_vs_rating
- job_duration_correlation
- skills_count_vs_earnings
- salary_by_experience

Вопрос: "{question}"

Ответь только именем функции.
"""

# Шаблоны вывода для каждой функции-анализа
TEMPLATES = {
    "compare_payment": """
Вопрос: {question}

Сравнение среднего дохода фрилансеров по методам оплаты (USD):
{data}

Пожалуйста, дайте развёрнутый ответ, опираясь на эти цифры.
""",

    "by_region": """
Вопрос: {question}

Распределение дохода по регионам (mean/median/count):
{table}

Опишите тренды и сделайте выводы.
""",

    "expert_under_100": """
Вопрос: {question}

Процент экспертов с менее чем 100 завершёнными проектами: {pct:.2f}%.

Заключение?
""",

    "salary_vs_success_rate": """
Вопрос: {question}

В таблице показано влияние квартилей процента успешных заказов на доход фрилансеров (по регионам):
{table}

Опишите, как успех выполнения заказов внутри региона связан с уровнем дохода.
""",

    "salary_vs_rating": """
Вопрос: {question}

В таблице показано зависимость дохода от рейтинга фрилансера (по регионам):
{table}

Прокомментируйте тренды внутри каждого региона.
""",

    "job_duration_correlation": """
Вопрос: {question}

Коэффициент корреляции между длительностью задач (job_duration_days) и доходом: {corr:.2f}

Что можно сказать о связи между временем выполнения задачи и уровнем дохода?
""",

    "skills_count_vs_earnings": """
Вопрос: {question}

Таблица усреднённого дохода в зависимости от количества заявленных навыков (по регионам):
{table}

Как вы интерпретируете влияние числа навыков на доход?
""",

    "salary_by_experience": """
Вопрос: {question}

Средний и медианный доход фрилансеров в зависимости от уровня опыта внутри регионов:
{table}

Прокомментируйте, как уровень опыта влияет на доход.
"""
}
